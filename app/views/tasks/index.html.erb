<h1>Reminder</h1>
<p><%= notice %></p>
<%= form_with(model:@task, local: true, url: tasks_path, method: 'get') do |f| %>
  <%= f.label :Name %>
  <%= f.text_field :name_search %>
  <%= f.label :Status %>
  <%= f.select :status_search, Task.statuses.keys.to_a {}, include_blank: true %>
  <%= f.submit 'Search' %>
<% end %>

<br>
<div class="menu">
  <%= link_to 'タスクを作成する', new_task_path %>
  <%= link_to "終了期限でソートする", tasks_path(sort_expired: "true") %>
</div>
<br>

<table>
  <tr>
    <th>Name</th>
    <th>Detail</th>
    <th>Deadline</th>
    <th>Status</th>
  </tr>
  <% @tasks.each do |task| %>
    <tr class ="task_row">
      <td><%= task.name %></td>
      <td><%= task.detail %></td>
      <td><%= task.expire_on %></td>
      <td><%= task.status %></td>
      <td><%= link_to 'detail', task_path(task.id) %></td>
      <td><%= link_to 'edit', edit_task_path(task.id) %></td>
      <td><%= link_to 'delete', task_path(task.id), method: :delete, data: { confirm: 'Are you sure?'} %></td>
    </tr>
  <% end %>
</table>
